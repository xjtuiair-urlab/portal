---
const rawBase = import.meta.env.BASE_URL;
const baseUrl = rawBase.endsWith('/') ? rawBase.slice(0, -1) : rawBase;
const getLink = (path: string) => {
    const cleanPath = path.startsWith('/') ? path.slice(1) : path;
    if (cleanPath === '') return `${baseUrl}/`;
    return `${baseUrl}/${cleanPath}`;
}
---

<header class="site-header">
    <div class="header-container">
        <div class="logo-group">
            <a href="http://www.xjtu.edu.cn" target="_blank" class="logo-link">
                <img src={getLink("assets/logo/xjtu.png")} alt="XJTU Logo">
            </a>

            <div class="divider"></div>

            <a href="http://iair.xjtu.edu.cn" target="_blank" class="logo-link">
                <img src={getLink("assets/logo/iair.png")} alt="IAIR Logo">
            </a>

            <div class="divider"></div>

            <a href={getLink("")} class="logo-link">
                <img src={getLink("assets/logo/cag.png")} alt="CAG Logo" class="cag-logo">
            </a>
        </div>

        <nav class="nav-menu">
            <a href={getLink("")}>Home</a>
            <a href={getLink("research")}>Research</a>
            <a href={getLink("people")}>People</a>
            <a href={getLink("pubs")}>Publications</a>
            <a href={getLink("resource")}>Resource</a>
            <a href={getLink("news")}>News</a>
            <a href={getLink("join")}>Join Us</a>
        </nav>
    </div>
</header>

<style>
    .site-header {
        position: absolute;
        top: 0; left: 0; width: 100%;
        height: 100px;
        z-index: 1000;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
        transition: background 0.3s ease;
    }

    .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: var(--max-width);
        margin: 0 auto;
        padding: 0 40px;
        height: 80px;
    }
    .logo-group {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    /* 单个 Logo 图片样式 */
    .logo-group img {
        height: 40px;
        width: auto;
        display: block;
        opacity: 0.9;
        transition: opacity 0.3s;
    }

    .logo-group img:hover {
        opacity: 1;
    }

    .cag-logo {
        height: 48px !important;
    }

    /* 竖线分割符 */
    .divider {
        width: 1px;
        height: 30px;
        background-color: rgba(255, 255, 255, 0.4);
        margin: 0 5px;
    }

    /* 导航菜单 */
    .nav-menu {
        display: flex;
        gap: 30px;
    }

    .nav-menu a {
        color: #ffffff;
        font-family: var(--font-heading);
        font-weight: 500;
        font-size: 16px;
        text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        position: relative;
    }

    .nav-menu a:hover {
        color: var(--accent-orange);
    }

    @media (max-width: 1024px) {
        .logo-group a:not(:last-child), .divider {
            display: none;
        }
        .header-container { padding: 0 20px; }
    }
    
    @media (max-width: 768px) {
        .nav-menu { display: none; }
    }
</style>
